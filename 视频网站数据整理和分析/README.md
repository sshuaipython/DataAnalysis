## 视频网站数据整理和分析

### 步骤

1. 读取数据和数据清洗
   1. 读取视频网站的数据(QIY.csv)，共100000个样本, 24个特征
   2. 数据清洗，将文本型字段空值改为"缺失数据",数字型字段空值改为0
   3. 将时间字段改为时间标签（中文日期转为非中文日期，再转为pandas的DatetimeIndex时间类型）
2. 统计不同导演的好评率
   1. 按照导演这个特征进行分组，计算好评数和评分人数的总和
   2. 计算好频率(好评数/好评人数)
   3. 筛选好评率TOP20的导演，进行可视化
   ![](https://github.com/silencesong/DataAnalysis/blob/master/%E8%A7%86%E9%A2%91%E7%BD%91%E7%AB%99%E6%95%B0%E6%8D%AE%E6%95%B4%E7%90%86%E5%92%8C%E5%88%86%E6%9E%90/images/top20_director.png)
   
3. 统计2000-2016年每年评影人数总量
   1. 筛选出不同年份的数据，去除‘上映年份’字段确实的数据
   2. 根据不同剧名，求出评分人数、好评数总和
   3. 合并数据，得到不同年份，不同剧的评分人数、好评数总和
   4. 按照电影上映年份进行分组，统计出评分人数量和好评数量
   5. 对2000-2016年的数据进行可视化
   ![](https://github.com/silencesong/DataAnalysis/blob/master/%E8%A7%86%E9%A2%91%E7%BD%91%E7%AB%99%E6%95%B0%E6%8D%AE%E6%95%B4%E7%90%86%E5%92%8C%E5%88%86%E6%9E%90/images/Comment_Num.png)
   
4. 统计出评分人数TOP20的影视剧并进行可视化
![](https://github.com/silencesong/DataAnalysis/blob/master/%E8%A7%86%E9%A2%91%E7%BD%91%E7%AB%99%E6%95%B0%E6%8D%AE%E6%95%B4%E7%90%86%E5%92%8C%E5%88%86%E6%9E%90/images/top20_movie.png)

5. 异常值的验证情况
   1. 对2001-2016每年评分人数和好评数进行箱型图可视化（由于2000-2016有17个数据，可视化布局不好看，所以选择了2001-2016进行统计）
   ![](https://github.com/silencesong/DataAnalysis/blob/master/%E8%A7%86%E9%A2%91%E7%BD%91%E7%AB%99%E6%95%B0%E6%8D%AE%E6%95%B4%E7%90%86%E5%92%8C%E5%88%86%E6%9E%90/images/abnormal.png)
   
   2. 创建函数，得到每年评分人数的外限最大值最小值
   3. 统计出每年评分人数异常值(大于外限最大值)具体情况及占比
   ![](https://github.com/silencesong/DataAnalysis/blob/master/%E8%A7%86%E9%A2%91%E7%BD%91%E7%AB%99%E6%95%B0%E6%8D%AE%E6%95%B4%E7%90%86%E5%92%8C%E5%88%86%E6%9E%90/images/ratio.png)


### 结论

1. 根据不同导演的好评率分析，好评率TOP20的导演的好评率都在0.98以上，其中王静导演好评率最高，其次是萧锋、向灼、乌兰塔纳、徐宗政等等。

2. 根据2000-2016年每年评影人数总量的统计，从折现图中我们看出2011年，2015年的评影人数非常异常。

3. 根据柱状图，2011年的两部影视剧《回家的诱惑》和《宫锁心玉》非常火爆，导致2011年的值很高。2010年和2015年也有多部影视剧出现在TOP20，所以评影人数很高。

4. 根据箱型图，我们可以看出每年的评分人数和好评数都有异常值。

5. 根据详细统计异常值的结果，2015年异常评分人数的电影最多有25条，占了总数的7.7%。异常比例前几名的年份分别是2002年，2006年，2011年等。

